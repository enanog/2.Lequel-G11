# EDA #level2: Lequel?

## Integrantes del grupo y contribuciÃ³n al trabajo de cada integrante
* Micaela Dinsen: optimizaciones de rendimiento, mejoras en precisiÃ³n de detecciÃ³n, documentaciÃ³n del cÃ³digo.
* Dylan Frigerio: implementaciÃ³n inicial, pruebas de precisiÃ³n, documentaciÃ³n del cÃ³digo.


## Respuestas del enunciado

1. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ·ĞµĞ¼ĞµĞ»ÑŒ ÑÑƒÑ‡Ğ°ÑĞ½Ğ¾Ñ— Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ¸, ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ğ³Ğ¾ Ğ½Ğ°Ñ€Ğ¾Ğ´Ñƒ Ñ‚Ğ° Ñ–Ğ½ÑˆĞ¸Ñ… Ğ½Ğ°Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ĞµĞ¹, Ñ‰Ğ¾ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ÑŒ Ğ½Ğ° Ñ‚ĞµÑ€Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ¸, Ğ²Ñ–Ğ´ Ğ´Ğ¾Ñ–ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡Ğ½Ğ¸Ñ… Ñ‡Ğ°ÑÑ–Ğ² Ğ´Ğ¾ ÑÑŒĞ¾Ğ³Ğ¾Ğ´ĞµĞ½Ğ½Ñ.

En ucraniano.

2. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

ì•„ë¦¬ë‘, ì•„ë¦¬ë‘, ì•„ë¼ë¦¬ìš”... ì•„ë¦¬ë‘ ê³ ê°œë¡œ ë„˜ì–´ê°„ë‹¤. ë‚˜ë¥¼ ë²„ë¦¬ê³  ê°€ì‹œëŠ” ë‹˜ì€ ì‹­ë¦¬ë„ ëª»ê°€ì„œ ë°œë³‘ë‚œë‹¤. ì²­ì²œí•˜ëŠ˜ì—” ì”ë³„ë„ ë§ê³ , ìš°ë¦¬ë„¤ ê°€ìŠ´ì—” í¬ë§ë„ ë§ë‹¤. ì €ê¸° ì € ì‚°ì´ ë°±ë‘ì‚°ì´ë¼ì§€, ë™ì§€ ì„£ë‹¬ì—ë„ ê½ƒë§Œ í•€ë‹¤.

En coreano.

3. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

áá‰á„á€ á€á€¯á€”á€¾á€…á€ºá€á€½á€„á€º á€—á€­á€¯á€œá€ºá€á€»á€¯á€•á€ºá€¡á€±á€¬á€„á€ºá€†á€”á€ºá€¸á€¦á€¸á€†á€±á€¬á€„á€ºá€á€Šá€·á€º á€›á€²á€˜á€±á€¬á€ºá€á€¯á€¶á€¸á€€á€»á€­á€•á€ºá€¡á€–á€½á€²á€·á€á€„á€ºá€á€­á€¯á€·á€á€Šá€º á€—á€™á€¬á€·á€œá€½á€á€ºá€™á€¼á€±á€¬á€€á€ºá€›á€±á€¸á€á€•á€ºá€™á€á€±á€¬á€º (á€˜á€®á€¡á€­á€¯á€„á€ºá€¡á€±) á€€á€­á€¯ á€á€Šá€ºá€‘á€±á€¬á€„á€ºá€á€²á€·á€€á€¼á€á€Šá€ºá‹[á‚á€][á‚á€] á€›á€²á€˜á€±á€¬á€ºá€á€¯á€¶á€¸á€€á€»á€­á€•á€ºá€á€Šá€º á€‚á€»á€•á€”á€ºá€”á€­á€¯á€„á€ºá€„á€¶á€á€½á€„á€º á€…á€…á€ºá€á€„á€ºá€á€”á€ºá€¸á€™á€»á€¬á€¸á€á€€á€ºá€›á€±á€¬á€€á€ºá€á€²á€·á€€á€¼á€á€Šá€ºá‹[á‚á€]

En birmano.

4. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

Negema wangu binti, mchachefu wa sanati upulike wasiati asa ukanzingatia. Maradhi yamenshika hatta yametimu mwaka sikupata kutamka neno lema kukwambia. Ndoo mbee ujilisi na wino na qaratasi moyoni nina hadithi nimependa kukwambia.

En suajili.

5. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

Ô±ÕµÕªÕ´ Õ¶Õ¡ ÕµÕ¸Ö‚Ö€ Õ¯Õ«Õ¶Õ¿Õ¸ÕµÕ« Õ¡Ö€Õ°Õ¥Õ½Õ¿Õ¸Õ¾ ÕªÕ¡Õ¼Õ¡Õ¶Õ£Õ¡Õ® ÕƒÕ¡Õ¶Õ³Õ¸Ö‚Ö€ Õ´Õ¡Õ¯Õ¡Õ¶Õ¸Ö‚Õ¶Õ¨ Õ¯ÖÕ¥Õ¬Õ¸Õ¾ ÕµÕ¸Ö‚Ö€ Õ°Õ¸Ö€Õ Õ•Õ°Õ¡Õ¶Õ¥Õ½Õ« Õ¡Õ¶Õ¾Õ¡Õ¶ Õ°Õ¥Õ¿, Õ¯Õ¸Õ¹Õ¾Õ¸Ö‚Õ´ Õ§ Â«Ô¹Õ«Ö†Õ¬Õ«Õ½Õ« ÕºÕ¡Õ¿Õ¾Õ¡Õ¾Õ¸Ö€ Ö„Õ¡Õ²Õ¡Ö„Õ¡ÖÕ« ÕƒÕ¡Õ¶Õ³Õ¸Ö‚Ö€ Ô»Õ¾Õ¡Õ¶Õ«Õ¹Â»Ö‰ Ô±ÕµÕ¤ Õ¡Õ¶Õ¸Ö‚Õ¶Õ¸Õ¾ Ö‡Õ½ Õ´Õ¥Õ¶Ö„ ÕºÕ¡Ö€Õ¿Õ¡Õ¾Õ¸Ö€Õ¾Õ¸Ö‚Õ´ Õ¥Õ¶Ö„ Õ¶Ö€Õ¡Õ¶ Õ®Õ¡Õ¶Õ¸Õ©Õ¡ÖÕ¶Õ¥Õ¬ Õ´Õ¥Ö€ Õ¨Õ¶Õ©Õ¥Ö€ÖÕ¸Õ²Õ¶Õ¥Ö€Õ«Õ¶Ö‰

En armenio.

6. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

Belirli bir bÃ¶lgedeki mevcut hava durumu hava raporu, gelecekte beklenen durumlar ise hava tahmini ÅŸeklinde, ilgili meteoroloji otoriteleri tarafÄ±ndan yayÄ±mlanÄ±r.

En turco.

7. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

á¤áµáá”á´á— á¦áµá™á— á­á·á¤á¢, á¤á—á”á® á¦áá², á¤á²ááá© á¤á—á”á® á¤á…á— áƒá´ á¤á©áá™á¡ á‘á¾á´ á á©áá— á¤á‚á‘á¸á“. á£áá“ á„áµáá”áá® á¤á©áŒ á¤áªá…á’ á¡á™á². á¦á…á†á¶áá— á­á´á® á£á„á áƒá´ á£áá³ á á‚áá‚á á´á©, á£áá“ á„á©áá´ á á¦á´.

En cheroqui.

8. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

ÙÛŒØ¹ØªÙ‚Ø¯ Ø¨Ø£Ù† Ø¶Ø§Ø¨Ø·Ø© ÙÙŠ Ø§Ù„Ø¬ÛŒØ´ Ø§Ù„Ø¨Ø±ÛŒØ·Ø§Ù†ÙŠ ØªØ¯Ø¹Ù‰ Ø¨Ø±ÛŒØª ØªØ´Ø§Ù†Ø¯ÙŠ Ø§Ù”ØµØ¨Ø­Øª Ø§Ù”ÙˆÙ„Ø§Ù…Ø±Ø§Ù”Ø© Ù…Ù† Ø§Ù”ØµÙˆÙ„ Ø§Ù“Ø³ÛŒÙˆÛŒØ© ÙØªÙƒÙ…Ù„Ù Ø±Ø­Ù„Ø© Ø§Ø³ØªÙƒØ´Ø§ÙÛŒØ© ÙØ±Ø¯ÛŒØ© Ø¹Ø¨Ø± .Ø§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ù‚Ø·Ø¨ÛŒØ© Ø§Ù„Ø¬Ù†ÙˆØ¨ÛŒ  

En Ã¡rabe.

9. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

àª—à«àªœàª°àª¾àª¤à«€ àª¸àª‚àª¸à«àª•à«ƒàª¤ àª­àª¾àª·àª¾àª®àª¾àª‚àª¥à«€ àªµàª¿àª•àª¸àª¿àª¤ àª¥àª¯à«‡àª²à«€ àª†àª§à«àª¨àª¿àª• àªˆàª¨à«àª¡à«‹-àª†àª°à«àª¯àª¨ àª­àª¾àª·àª¾ àª›à«‡. àªªàª°àª‚àªªàª°àª¾àª—àª¤ àª°à«€àª¤à«‡ à«© àªàª¤àª¿àª¹àª¾àª¸àª¿àª• àª¤àª¬àª•à«àª•àª¾àª“ àªªà«àª°àª®àª¾àª£à«‡ àªˆàª¨à«àª¡à«‹-àª†àª°à«àª¯àª¨ àª­àª¾àª·àª¾àª“ àªµàªšà«àªšà«‡ àª­à«‡àª¦ àª•àª°àª¾àª¯ àª›à«‡.

En guyaratÃ­.

10. Â¿En quÃ© idioma estÃ¡ el siguiente texto?

Al Seicento appartiene il primo trattato dedicato non ai volgari italiani o a uno o piÃ¹ di tali volgari, ma alla lingua italiana in quanto tale: Delle osservazioni della lingua italiana di Marcantonio Mambelli, detto il Cinonio.

En italiano.

11. El siguiente texto fue escrito por Robert Burns en escocÃ©s. Â¿QuÃ© dice Lequel? Â¿QuÃ© falla? Justifica por quÃ© ocurre lo que ocurre.

And there's a hand, my trusty fiere! and gie's a hand o' thine! And weâ€™ll tak' a right gude-willie waught, for auld lang syne.

Lequel dice inglÃ©s, falla porque el escocÃ©s y el inglÃ©s son idiomas germÃ¡nicos extremadamente parecidos y comparten una gran cantidad de vocabulario y estructura. La mayorÃ­a de las palabras y, por lo tanto, de los trigramas, son idÃ©nticos o muy similares a los del inglÃ©s ("And", "the", " a ", "han", " my", "for"). El perfil de trigramas generado para este texto tiene una similitud de coseno altÃ­sima con el perfil del inglÃ©s. 

12. El siguiente texto estÃ¡ en inglÃ©s. Â¿QuÃ© dice Lequel? Â¿QuÃ© falla? Justifica por quÃ© ocurre lo que ocurre.

IT WAS THE BEST OF TIMES, IT WAS THE WORST OF TIMES,
IT WAS THE AGE OF WISDOM, IT WAS THE AGE OF FOOLISHNESS,
IT WAS THE EPOCH OF BELIEF, IT WAS THE EPOCH OF INCREDULITY,
IT WAS THE SEASON OF LIGHT, IT WAS THE SEASON OF DARKNESS,
IT WAS THE SPRING OF HOPE, IT WAS THE WINTER OF DESPAIR,
WE HAD EVERYTHING BEFORE US, WE HAD NOTHING BEFORE US,
WE WERE ALL GOING DIRECT TO HEAVEN, WE WERE ALL GOING DIRECT THE OTHER WAY
â€“ IN SHORT, THE PERIOD WAS SO FAR LIKE THE PRESENT PERIOD, THAT SOME OF ITS NOISIEST AUTHORITIES INSISTED ON ITS BEING RECEIVED, FOR GOOD OR FOR EVIL, IN THE SUPERLATIVE DEGREE OF COMPARISON ONLY.

Lequel dice que estÃ¡ en "desconocido", debido a que el perfil de idioma para el inglÃ©s que Lequel tiene almacenado fue creado a partir de textos normales, que estÃ¡n mayormente en minÃºsculas. El perfil de referencia del inglÃ©s contiene trigramas como "the", " was", " of", "tim", y el perfil generado a partir del texto de entrada contiene trigramas completamente diferentes: "THE", " WAS", " OF", "TIM". Para la computadora, "the" y "THE" son dos secuencias de bytes totalmente distintas. Como resultado, hay casi cero coincidencias entre los trigramas del texto de entrada y los del perfil de inglÃ©s. La similitud de coseno calculada es extremadamente baja, cayendo por debajo del umbral de confianza (SIMILARITY_THRESHOLD). Por lo tanto, el programa concluye que no puede identificar el idioma con certeza y devuelve "desconocido".

## Bonus points
## Cambios y Optimizaciones Realizadas

### 1. SustituciÃ³n de estructuras de datos
- **`map` â†’ `unordered_map`**  
  - Se reemplazÃ³ `map` por `unordered_map` en la representaciÃ³n de perfiles de trigramas.  
  - RazÃ³n: `unordered_map` utiliza *hashing* en lugar de un Ã¡rbol balanceado, lo que permite **acceso y actualizaciones promedio en O(1)**, mejorando la velocidad en comparaciÃ³n con O(log n) de `map`.  
  - Este cambio es crÃ­tico porque el nÃºmero de trigramas distintos puede ser muy grande.

- **`list` â†’ `vector`**  
  - En la representaciÃ³n de textos (`Text`) y otras estructuras internas se reemplazÃ³ `list` por `vector`.  
  - RazÃ³n: los accesos secuenciales y aleatorios son mÃ¡s rÃ¡pidos en `vector`, debido a la memoria contigua en RAM.  
  - AdemÃ¡s, `vector` reduce la sobrecarga de punteros que sÃ­ tienen las listas enlazadas.  
  - Este cambio resulta mÃ¡s eficiente para recorrer lÃ­neas y trigramas.

---

### 2. RepresentaciÃ³n de trigramas con `uint64_t`
- Los trigramas ya no se almacenan como cadenas (`string`), sino como **enteros de 64 bits (`uint64_t`)**.  
- Cada trigrama (3 caracteres Unicode en UTF-16) se empaqueta en un solo `uint64_t`.  
  - Ejemplo:  
    - Primer carÃ¡cter â†’ bits 32â€“47  
    - Segundo carÃ¡cter â†’ bits 16â€“31  
    - Tercer carÃ¡cter â†’ bits 0â€“15  
- **Ventajas**:
  - Comparaciones y *hashing* mucho mÃ¡s rÃ¡pidas que con `string`.  
  - ReducciÃ³n significativa en el uso de memoria.  
  - Mejor rendimiento en bÃºsquedas dentro de `unordered_map`.

---

### 3. OptimizaciÃ³n de memoria
- Se agregÃ³ un **`reserve()`** inicial al crear perfiles de trigramas.  
- Esto previene mÃºltiples **realocaciones dinÃ¡micas** a medida que se insertan nuevos elementos.  
- Resultado:  
  - Menor fragmentaciÃ³n de memoria.  
  - Mayor rendimiento en la construcciÃ³n de perfiles de trigramas grandes.

---

### 4. MediciÃ³n de tiempos con `<chrono>`
- Se incorporÃ³ la librerÃ­a estÃ¡ndar **`<chrono>`** para medir el tiempo de ejecuciÃ³n.  
- Ahora se puede conocer cuÃ¡nto tarda el anÃ¡lisis de un texto en identificarse.  
- Esto permite evaluar el rendimiento y comparar mejoras entre implementaciones.  
- El tiempo se muestra tanto en **milisegundos** como en **segundos** (si supera 1000 ms).

---

## ğŸ“‚ Cambios en archivos
- **`Lequel.h / Lequel.cpp`**  
  - Trigramas almacenados como `uint64_t` en lugar de `string`.  
  - Se reemplazÃ³ `map` por `unordered_map`.  
  - Se aÃ±adiÃ³ `reserve()` en la creaciÃ³n de perfiles.  

- **`Text.h / Text.cpp`**  
  - Tipo `Text` pasÃ³ de `list<string>` a `vector<string>`.  
  - Mejor desempeÃ±o en lectura y procesamiento de archivos.  

- **`main.cpp`**  
  - IncorporaciÃ³n de la librerÃ­a `<chrono>` para medir el tiempo de ejecuciÃ³n.  
  - Ajustes en el flujo de procesamiento para mostrar el tiempo junto al resultado de identificaciÃ³n.
